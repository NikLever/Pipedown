<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/svg+xml" href="./icon.svg" />
  <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans|Kavivanar" rel="stylesheet">
  <title>Pipedown</title>
  <style>
    body{ padding: 0; margin: 0; overflow: hidden; }
    canvas{ position: fixed; top: 0; left: 0; }
	#info { color: #fff; position: absolute; top: 10px; width: 100%; text-align: center; z-index: 100; display:block; }
	#info a { color: #046; font-weight: bold; }
	#level{ position: fixed; display: block; width: 80px; top: 0; left: 15px; padding: 0; margin: 0; text-align: center;
		font-family: 'IBM Plex Sans', sans-serif; font-size: 20px; z-index: 100; pointer-events: none; }
	#level p, #score p, #moves p{ width: 100%; margin: 0; padding: 0; }
	#score{ position: fixed; display: block; width: 140px; top: 0; right: 15px; padding: 0; margin: 0; text-align: center;
		font-family: 'IBM Plex Sans', sans-serif; font-size: 20px; z-index: 100; pointer-events: none; }
	#moves{ position: fixed; display: block; width: 100px; bottom: 0; color: #3D455C; left: 15px; padding: 0; margin: 0;
		text-align: center; font-family: 'IBM Plex Sans', sans-serif; font-size: 20px; z-index: 100; pointer-events: none; }
	.ui-text{ font-family: 'IBM Plex Sans', sans-serif; font-size: 55px; line-height: 55px; }
	#message{ position:absolute; left: 50%; top: 50%; transform: translateX(-50%) translateY(-50%);
		font-family: 'Kavivanar', san-serif; font-size: 40px; width:80%; max-width:280px; padding: 15px 15px 50px 15px;
		text-align: center; display:none; flex-wrap: wrap; align-content: center; justify-content: center;
		background-color: aliceblue; border: medium solid #3D455C; border-radius: 20px; color: #3D455C; z-index: 99; }
	#message_ok{ position: absolute; bottom: 10px; padding: 10px 20px 10px 20px; font-family: sans-serif; font-size: 20px;
		background-color: #3D455C; color: #fff; border-radius: 8px; border: medium solid #696882; }
	#message_close{ display: none; border: none; margin-left: auto; background-color: transparent; font-size: 30px; }
	#message_progress{ display: none; font-size: 15px; }
	#tutorial_txt{ display: none; position:absolute; left: 50%; top: 10px; transform: translateX(-50%);
		font-family: 'Kavivanar', san-serif; font-size: 25px; width:80%; padding: 15px;
		text-align: center; display:none; flex-wrap: wrap; align-content: center; justify-content: center;
		background-color: aliceblue; border: medium solid #3D455C; border-radius: 20px; color: #3D455C; z-index: 100;}
	.txtbtn{padding: 10px 20px 10px 20px; font-family: sans-serif; font-size: 20px; 
		    background-color: #3D455C; width: 140px; color: #fff; border-radius: 8px; 
			border: medium solid #696882; z-index: 99; }
	#hint{ position: absolute; bottom: 10px; right: 10px; animation-duration: 3s; animation-iteration-count: infinite; }
	#drop{ position: absolute; bottom: 70px; right: 10px; animation-duration: 3s; animation-iteration-count: infinite; }
	#reset{ position: absolute; bottom: 130px; right: 10px; }
	#help{ position: absolute; bottom: 190px; right: 10px; }
	.svgbtn{border: none; background-color: transparent; z-index: 99; width: 48px; height: 48px; }
	#zoom-in{ position: absolute; background-image: url( './zoom-in.svg' ); bottom: 190px; right: 80px; animation-duration: 3s; animation-iteration-count: infinite; }
	#zoom-out{ position: absolute; background-image: url( './zoom-out.svg' ); bottom: 190px; right: 30px; animation-duration: 3s; animation-iteration-count: infinite;}
	#logo{ position: absolute; left: 50%; top: 50%; width:70%; transform: translate( -50%, -50% ); z-index: 101;
		transition-property: top; transition-duration: 1s; transition-timing-function: ease-in; transition-delay: 2s;}
	#logo img { width: 100%; object-fit: contain; }	
	#courses{ display: none; position: absolute; left: 50%; top: 30px; text-decoration: none; transform: translateX(-50%);
		font-family: 'IBM Plex Sans', sans-serif; font-size: 20px; z-index: 99; color: #046; }
	a:link { text-decoration: none; } 
	a:visited { text-decoration: none; } 
	a:hover { text-decoration: none; color: black; } 
	a:active { text-decoration: none; }
	#banner-container { width: 100%; height: 50px; background-color: #3D455C; }
	.filter-grey { filter: invert(30%) sepia(0%) saturate(3082%) hue-rotate(344deg) brightness(100%) contrast(86%); }
	.filter-blue { filter: invert(44%) sepia(91%) saturate(2012%) hue-rotate(163deg) brightness(97%) contrast(101%); }
	.filter-black { filter: invert(0%) sepia(99%) saturate(9%) hue-rotate(21deg) brightness(102%) contrast(101%); }
	#hand { display: none; position: absolute; top: 50%; right: 0%; width: 30%; z-index: 120; animation-name: pan; animation-duration: 3s; animation-iteration-count: infinite; }
	
	@keyframes pan {
		0%   {right: 0%;}
		50%  {right: 20%;}
		100% {right: 0%;}
	}

	@keyframes flash {
		0%   {background-color: #3D455C;}
		50%  {background-color: #009fb7;}
		100% {background-color: #3D455C;}
	}
  </style>
  <script type="importmap">
    {
      "imports": {
        "three": "../../../node_modules/three/build/three.module.js",
        "three/addons/": "../../../node_modules/three/examples/jsm/"
      }
    }
  </script>
  <script src="https://sdk.crazygames.com/crazygames-sdk-v2.js"></script>
</head>
<body>
	<div id="logo"><img src="logo.png" /></div>
	<div id="message">
		<button id="message_close"><img src="close.svg" width="48" height="48" /></button>
		<p id="message_text"></p>
		<button id="message_ok">OK</button>
	</div>
	<div id="level"><p>LEVEL</p><p id="level_text" class="ui-text">0</p></div>
	<div id="score"><p>SCORE</p><p id="score_text" class="ui-text">0</p></div>
	<div id="moves"><p id="moves_text" class="ui-text">0(0)</p><p>MOVES</p></div>
	<div id="tutorial_txt"></div>
	<button id="hint" class="txtbtn">HINT</button>
	<button id="drop" class="txtbtn">DROP</button>
	<button id="reset" class="txtbtn">RESET</button>
	<!--<button id="help" class="txtbtn">HELP</button>-->
	<button id="zoom-in" class="svgbtn"></button>
	<button id="zoom-out" class="svgbtn"></button>
	<div id="hand"><img src="hand.png" width="100%"/></div>

	<script type="module">
		import { Game } from "./Game.js"
		const game = new Game();
	</script>

</body>
</html>